2019-05-05 09:35:29,432  鹏程@CMBC 分享链接:
 #每日分享 「链接」 Redis radix tree源码解析 - 阿里云栖社区 - SegmentFault 思否
https://t.zsxq.com/nUZfEYF
2019-05-05 13:53:59,522  杨树杰@nokia 说: 
请问一下，如果使用redis的话，license方面需要注意些啥呢，redis现在使用的BSD license,如果产品要使用redis的话，要用什么说明吗？
2019-05-05 13:55:24,978  arthur@baidu 说: 
https://choosealicense.com/appendix/
2019-05-05 14:01:43,446  arthur@baidu 说: 
这个是比较全的， 还有一个是 redis 官方的介绍 https://redis.io/topics/license   FYI， BSD 协议好像只需要在版权声明中包含原来代码中的BSD协议就可以
2019-05-05 14:03:44,744  杨树杰@nokia 说: 
@arthur@baidu 谢谢哈，我先了解下
2019-05-05 20:23:05,574  王兆鹏@北广 说: 
请教大佬一个问题，php多进程使用redis长连接，发现有连接丢失的情况，这是怎么回事
2019-05-05 20:42:42,681  白馨@陌陌 说: 
连接丢失？
2019-05-05 20:43:17,209  王兆鹏@北广 说: 
对
2019-05-05 20:43:32,807  白馨@陌陌 说: 
连接又不是消息，咋丢失的
2019-05-05 20:47:12,432  王兆鹏@北广 说: 
具体场景是这样，PHP多进程去Redis数据，Redis使用长连接，脚本起来之后跑一段时间就会拿不到数据，重启脚本就会正常正常
2019-05-05 20:48:45,403  王江华@好未来 说: 
pcntl fork？
2019-05-05 20:49:31,487  王江华@好未来 说: 
原生还是类库
2019-05-05 20:49:34,146  王兆鹏@北广 说: 
是的
2019-05-05 20:50:44,171  王兆鹏@北广 说: 
PHP自身的扩展
2019-05-05 20:51:37,928  王兆鹏@北广 说: 
停止Redis的长连接就恢复正常了
2019-05-05 20:51:57,481  王江华@好未来 说: 
哦，链接是在哪里写的，主进程还是子进程
2019-05-05 20:56:08,646  王兆鹏@北广 说: 
子进程
2019-05-05 21:14:47,548  王江华@好未来 说: 
应该没啥问题，日志有报错吗？
2019-05-05 21:27:14,184  黄建@友塔游戏 说: 
机器上有很多个redis的实例（非集群），这种场景是怎么做高可用的？
如果一台机器上单个redis挂了，我怎么通过哨兵切换主从之后，服务端不修改配置情况下，去连接到切换之后的redis上？
2019-05-05 21:28:36,594  黄建@友塔游戏 说: 
最近在想这些问题，不知道，大佬有没有什么建议
2019-05-05 21:39:02,600  白馨@陌陌 说: 
phpredis4.0之前 close长链接不会生效。不知道跟这个有没有关系。
2019-05-05 21:39:19,443  黄建@友塔游戏 说: 
查到的资料基本上都是单机单实例，用哨兵加VIP 做切换。	不知道单机多实例要达到同样的效果，要怎么做😂
2019-05-05 21:41:54,678  arthur@baidu 说: 
单机多副本的部署方案是为什么呢？
2019-05-05 21:45:30,696  黄建@友塔游戏 说: 
😂历史遗留 一直都是这样的部署方案

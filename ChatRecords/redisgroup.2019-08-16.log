2019-08-16 16:27:12,632  鹏程@CMBC 分享链接:
 #每日分享 「链接」 5 Steps to Building a Great Redis Module | Redis L...
https://t.zsxq.com/iImM33b
2019-08-16 16:27:18,863  鹏程@CMBC 分享链接:
 #每日分享 「链接」 5 Steps to Building a Great Redis Module | Redis L...
https://t.zsxq.com/iImM33b
2019-08-16 16:28:06,278  鹏程@CMBC 说: 
@田力@admaster 5.x吧，据说有碎片改善，没怎么用户名
2019-08-16 16:28:06,641  鹏程@CMBC 说: 
@田力@admaster 5.x吧，据说有碎片改善，没怎么用户名
2019-08-16 16:28:08,154  鹏程@CMBC 说: 
用过
2019-08-16 16:28:08,456  鹏程@CMBC 说: 
用过
2019-08-16 16:32:31,804  鹏程@CMBC 说: 
近期有群成员加入时可能会出现多次机器人欢迎消息，用的框架itchat可能是有bug（因为我的业务代码都是被动回调的），请大家先见谅，我再研究观察下。
2019-08-16 16:32:32,656  鹏程@CMBC 说: 
近期有群成员加入时可能会出现多次机器人欢迎消息，用的框架itchat可能是有bug（因为我的业务代码都是被动回调的），请大家先见谅，我再研究观察下。
2019-08-16 16:33:45,673  田力@admaster 说: 
谢谢 我测试一下
2019-08-16 16:33:46,009  田力@admaster 说: 
谢谢 我测试一下
2019-08-16 17:10:36,172  kane.zhu@摩普 说: 
请教一个问题 lua scan的时候 获取的value 是空 但是命令获取是有值的 是怎么回事
2019-08-16 17:10:38,348  kane.zhu@摩普 说: 
请教一个问题 lua scan的时候 获取的value 是空 但是命令获取是有值的 是怎么回事
2019-08-16 17:26:41,807  肖贝贝@BIGO 说: 
集群还是单机
2019-08-16 17:26:42,141  肖贝贝@BIGO 说: 
集群还是单机
2019-08-16 17:27:39,270  单汉强@网易游戏 说: 
你截图scan的两个cursor都不一样，不能比较吧
2019-08-16 17:27:39,582  单汉强@网易游戏 说: 
你截图scan的两个cursor都不一样，不能比较吧
2019-08-16 17:28:56,074  kane.zhu@摩普 说: 
集群
2019-08-16 17:28:56,389  kane.zhu@摩普 说: 
集群
2019-08-16 17:29:26,989  肖贝贝@BIGO 说: 
集群啊, 那你跑lua的那个节点, 不一定是你在这里scan的节点
2019-08-16 17:29:27,293  肖贝贝@BIGO 说: 
集群啊, 那你跑lua的那个节点, 不一定是你在这里scan的节点
2019-08-16 17:30:04,401  kane.zhu@摩普 说: 
cursor 不一样的 全部跑完也没匹配到
2019-08-16 17:30:04,716  kane.zhu@摩普 说: 
cursor 不一样的 全部跑完也没匹配到
2019-08-16 17:30:08,389  肖贝贝@BIGO 说: 
毕竟lua只能在一台节点执行, 这个 scan 命令不一定
2019-08-16 17:30:08,701  肖贝贝@BIGO 说: 
毕竟lua只能在一台节点执行, 这个 scan 命令不一定
2019-08-16 17:30:24,440  肖贝贝@BIGO 说: 
可能就全部节点遍历了
2019-08-16 17:30:24,774  肖贝贝@BIGO 说: 
可能就全部节点遍历了
2019-08-16 17:30:53,405  kane.zhu@摩普 说: 
你是说 我命令行执行的scan 和lua执行的不是同一个节点？
2019-08-16 17:30:53,740  kane.zhu@摩普 说: 
你是说 我命令行执行的scan 和lua执行的不是同一个节点？
2019-08-16 17:31:35,953  肖贝贝@BIGO 说: 
这个得取决于集群具体咋实现的, 一般情况下不是一个节点
2019-08-16 17:31:36,284  肖贝贝@BIGO 说: 
这个得取决于集群具体咋实现的, 一般情况下不是一个节点
2019-08-16 17:31:58,183  kane.zhu@摩普 说: 
各位有什么好的办法吗
2019-08-16 17:31:58,526  kane.zhu@摩普 说: 
各位有什么好的办法吗
2019-08-16 17:32:15,973  kane.zhu@摩普 说: 
模糊匹配del
2019-08-16 17:32:16,304  kane.zhu@摩普 说: 
模糊匹配del
2019-08-16 17:32:36,191  肖贝贝@BIGO 说: 
你的集群是啥集群
2019-08-16 17:32:36,522  肖贝贝@BIGO 说: 
你的集群是啥集群
2019-08-16 17:32:47,068  kane.zhu@摩普 说: 
3-3
2019-08-16 17:32:47,408  kane.zhu@摩普 说: 
3-3
2019-08-16 17:33:01,549  kane.zhu@摩普 说: 
传统3主3从
2019-08-16 17:33:01,879  kane.zhu@摩普 说: 
传统3主3从
2019-08-16 17:33:10,930  kane.zhu@摩普 说: 
3.2.0 版本
2019-08-16 17:33:11,898  kane.zhu@摩普 说: 
3.2.0 版本
2019-08-16 17:33:12,892  肖贝贝@BIGO 说: 
原生redis的集群吗, 还是codis这种proxy的
2019-08-16 17:33:13,224  肖贝贝@BIGO 说: 
原生redis的集群吗, 还是codis这种proxy的
2019-08-16 17:33:29,720  kane.zhu@摩普 说: 
嗯嗯 原生  
2019-08-16 17:33:30,068  kane.zhu@摩普 说: 
嗯嗯 原生  
2019-08-16 17:40:37,576  肖贝贝@BIGO 说: 
查了下, 做法还是比较通用的
2019-08-16 17:40:38,406  肖贝贝@BIGO 说: 
查了下, 做法还是比较通用的
2019-08-16 17:40:54,288  肖贝贝@BIGO 说: 
用了你的第一个key计算slot, 如果包含{}, 用 {} 里的内容计算做slot
2019-08-16 17:40:54,601  肖贝贝@BIGO 说: 
用了你的第一个key计算slot, 如果包含{}, 用 {} 里的内容计算做slot
2019-08-16 17:41:04,181  肖贝贝@BIGO 说: 
所以你的lua命令只发到了其中一台机器上
2019-08-16 17:41:04,494  肖贝贝@BIGO 说: 
所以你的lua命令只发到了其中一台机器上
2019-08-16 17:41:36,775  肖贝贝@BIGO 说: 
如果是一次性操作, 建议在三台主上分别执行你的命令
2019-08-16 17:41:37,784  肖贝贝@BIGO 说: 
如果是一次性操作, 建议在三台主上分别执行你的命令
2019-08-16 17:44:25,015  kane.zhu@摩普 说: 
但是我scan 返回的数组里面已经是空了 
2019-08-16 17:44:26,064  kane.zhu@摩普 说: 
但是我scan 返回的数组里面已经是空了 
2019-08-16 17:44:41,009  kane.zhu@摩普 说: 
没法拿到第一个key 计算slot
2019-08-16 17:44:41,343  kane.zhu@摩普 说: 
没法拿到第一个key 计算slot
2019-08-16 17:46:28,278  肖贝贝@BIGO 说: 
lua执行的时候, 已经在节点上了
2019-08-16 17:46:29,233  肖贝贝@BIGO 说: 
lua执行的时候, 已经在节点上了
2019-08-16 17:46:58,536  肖贝贝@BIGO 说: 
你无论如何都不可能通过lua操作全部节点的数据
2019-08-16 17:46:59,524  肖贝贝@BIGO 说: 
你无论如何都不可能通过lua操作全部节点的数据
2019-08-16 17:47:21,458  kane.zhu@摩普 说: 
只能所有主节点执行一遍
2019-08-16 17:47:21,807  kane.zhu@摩普 说: 
只能所有主节点执行一遍
2019-08-16 17:47:22,133  kane.zhu@摩普 说: 
？
2019-08-16 17:47:22,462  kane.zhu@摩普 说: 
？
2019-08-16 17:47:23,413  肖贝贝@BIGO 说: 
是的
2019-08-16 17:47:23,759  肖贝贝@BIGO 说: 
是的
2019-08-16 17:47:44,795  kane.zhu@摩普 说: 
那我试试
2019-08-16 17:47:45,696  kane.zhu@摩普 说: 
那我试试
2019-08-16 17:47:46,028  肖贝贝@BIGO 说: 
嗯
2019-08-16 17:47:46,359  肖贝贝@BIGO 说: 
嗯
2019-08-16 17:53:11,055  kane.zhu@摩普 说: 
你们当时redis k8s是自建的还是买的
2019-08-16 17:53:13,174  kane.zhu@摩普 说: 
你们当时redis k8s是自建的还是买的
2019-08-16 17:53:13,488  kane.zhu@摩普 说: 
服务
2019-08-16 17:53:13,803  kane.zhu@摩普 说: 
服务
2019-08-16 17:57:11,431  肖贝贝@BIGO 说: 
这个情况比较复杂了
2019-08-16 17:57:11,740  肖贝贝@BIGO 说: 
这个情况比较复杂了
2019-08-16 17:57:59,929  肖贝贝@BIGO 说: 
不过听你这个问题, 建议自己买机器然后idc托管
2019-08-16 17:58:00,221  肖贝贝@BIGO 说: 
不过听你这个问题, 建议自己买机器然后idc托管

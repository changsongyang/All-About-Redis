2019-07-13 11:08:03,580  曾庆勇@盖娅 说: 
遇到个问题，麻烦大佬看看给个思路怎么查
我们这边用PHP写入到redis 4.0，写入的时候，返回是成功，然后上redis去查，却没有值
概率大概有2%到3%
2019-07-13 11:13:42,382  武文齐@CMBC 说: 
看看php返回的结果确认是redis返回的直接结果吗，有没有中间做转换？
2019-07-13 11:23:07,083  曾庆勇@盖娅 说: 
没有，现在程序是直接用的模块，本身没有做验证，以前一直这么用，返回成功就认为成功了
2019-07-13 11:27:17,036  曾庆勇@盖娅 说: 
php-redis，返回就是1，写入成功
2019-07-13 11:33:01,975  武文齐@CMBC 说: 
把有问题的key单拿出来，看看是否能复现，然后抓个包？
2019-07-13 11:39:41,865  黄建@友塔游戏 说: 
开monitor 确认一下 redis执行记录 或者查一下aof？ 有没可能执行成功但被删除了 或者哪里设置过期
2019-07-13 11:41:21,740  曾庆勇@盖娅 说: 
动静都比较大，还有别的什么思路吗？
2019-07-13 11:43:41,124  黄建@友塔游戏 说: 
Slave上查呗
2019-07-13 11:48:12,886  曾庆勇@盖娅 说: 
slave上也没有啊
2019-07-13 11:48:19,308  曾庆勇@盖娅 说: 
主上查都没有
2019-07-13 11:49:26,605  黄建@友塔游戏 说: 
查过程
2019-07-13 11:50:12,437  黄建@友塔游戏 说: 
逻辑是先查redis收到没有，再查是不是删掉或者过期
2019-07-13 12:04:38,998  邓伟@jit 说: 
查也要查根本，因为现象这样做，不行的
2019-07-13 12:13:11,544  单汉强@网易游戏 说: 
整个场景再详细描述一下，还有怎么复现，具体什么类型的key等信息
2019-07-13 13:29:32,952  邓伟@jit 说: 
必要时可以贴图

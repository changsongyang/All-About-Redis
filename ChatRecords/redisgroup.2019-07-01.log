2019-07-01 05:59:53,429  佳广@温杜科技 说: 
问个问题： 在使用Redis的时候，内存突然暴涨，需要排查是否是程序的原因，有什么策略，知道是程序的哪个服务造成的？
2019-07-01 06:01:50,818  佳广@温杜科技 说: 
遇到的困难点： 1.  发现程序进入docker后，只知道IP，不知道是哪个docker服务。 2. Redis的key没有统一的前缀，key是哪个程序产生的，需要求助开发  
2019-07-01 06:02:15,607  佳广@温杜科技 说: 
大家在使用上，有没有这样的困惑
2019-07-01 06:03:09,124  鹏程@CMBC 说: 
条件满足下不共享Redis实例。。
2019-07-01 06:03:46,599  鹏程@CMBC 说: 
一定要共享Redis实例最好有个proxy来统一管控入口
2019-07-01 06:03:53,811  佳广@温杜科技 说: 
事实，已经共享实例了[捂脸]
2019-07-01 06:04:45,435  张晋涛@网易 说: 
前缀这种事情 一开始就该约束的 
2019-07-01 06:05:07,755  张晋涛@网易 说: 
另外  1.  发现程序进入docker后，只知道IP，不知道是哪个docker服务。   这个和你排查 redis 的问题 有直接关系吗 
2019-07-01 06:06:03,535  佳广@温杜科技 说: 
我想知道，是不是哪个服务产生大量的key导致的内存增长
2019-07-01 06:07:51,139  钱生@平安 说: 
进不进docker都难排查
2019-07-01 06:08:35,647  fighting＠拼多多 说: 
「 张晋涛@网易: 前缀这种事情 一开始就该约束的  」
- - - - - - - - - - - - - - -
这个是为啥？
2019-07-01 06:08:47,857  肖贝贝@第四范式 说: 
来自五年前的做法: proxy 限制未经注册的key前缀, 对于qps, 针对 key 前缀实时分析, 针对存储, 每天利用rdb分析
2019-07-01 06:09:49,533  fighting＠拼多多 说: 
我理解 可以根据前缀做schema 然后根据业务进行分表
2019-07-01 06:10:28,143  肖贝贝@第四范式 说: 
因为redis没有表, 用前缀做一层管理有很多好处的
2019-07-01 06:10:37,310  张晋涛@网易 说: 
「fighting＠拼多多: 「 张晋涛@网易: 前缀这种事情 一开始就该约束的  」
- - - - - - - - - - - - - - -
这个是为啥？」
—————————
要共享实例还不约束前缀  真不怕有误删数据的么.. 
2019-07-01 06:11:58,503  fighting＠拼多多 说: 
「 肖贝贝@第四范式: 因为redis没有表, 用前缀做一层管理有很多好处的 」
- - - - - - - - - - - - - - -
对 就是这样 ，在数据管理和清理的时候 都很方便的
2019-07-01 06:12:27,309  佳广@温杜科技 说: 
真的有误删数据的，有开发找我，可以查一下，谁删的某某key的嘛
2019-07-01 06:12:29,067  肖贝贝@第四范式 说: 
[呲牙], 我们是 key 前缀 => 集群, key hash slot => 分片
2019-07-01 06:12:44,067  肖贝贝@第四范式 说: 
你说, 我们没上审计
2019-07-01 06:14:13,776  佳广@温杜科技 说: 
设置key前缀，可以排查到哪个程序服务，这个真的很重要。   
2019-07-01 06:14:14,102  fighting＠拼多多 说: 
我们也是这样的 前缀schame做为表名进行管理，我们集群都1亿qps   数据又大  如果不区分管理早就gg了
2019-07-01 06:15:46,111  肖贝贝@第四范式 说: 
而且, 有天你要想上新的存储引擎, 可以拿几个业务迁下下数据, 业务都不感知的
2019-07-01 06:15:55,380  肖贝贝@第四范式 说: 
1e 牛逼...

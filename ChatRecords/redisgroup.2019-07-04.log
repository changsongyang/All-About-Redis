2019-07-04 02:35:08,059  幻想 说: 
请问redis cluster 如何使用pipeline命令？[抱拳]
2019-07-04 03:01:15,952  黄威@国美 说: 
如果是jedis的话，得自己修改jedis，其他客户端类似；具体思路是，将pipeline中的key按照槽分配到对应的实例上去执行，然后把不同实例返回的结果，按照pipeline中key的顺序，组成结果集返回
2019-07-04 03:03:24,485  杨勇@cmb 说: 
确保所有key在同一个slot
2019-07-04 03:04:42,155  幻想 说: 
要是redis cluster 扩容呢 
2019-07-04 03:05:47,451  Truman@newegg 分享链接:
 Redis Cluster 批量操作实现 | Truman's Blog
http://trumandu.github.io/2016/06/05/Redis-Cluster-%E6%89%B9%E9%87%8F%E6%93%8D%E4%BD%9C%E5%AE%9E%E7%8E%B0/
2019-07-04 03:06:07,371  Truman@newegg 说: 
可以看一下这个文章。
2019-07-04 03:06:22,797  邓伟@jit 说: 
一致性哈希
2019-07-04 03:10:05,880  黄威@国美 说: 
建议自己重写一个pipeline的类，实现BinaryRedisPipeline, RedisPipeline接口
2019-07-04 03:10:16,232  黄威@国美 说: 
然后重写syncAndReturnAll函数
2019-07-04 03:12:00,324  幻想 说: 
redis cluster  中 可以用lua ，替换pipeline 吗 
2019-07-04 03:14:35,914  黄威@国美 说: 
应该也不行
2019-07-04 03:14:56,180  幻想 说: 
那方面不可以啊 ？
2019-07-04 03:15:03,324  黄威@国美 说: 
主要涉及到key的跨节点操作
2019-07-04 03:15:53,647  幻想 说: 
redis cluster要是扩容，缩容的时候
int slot = JedisClusterCRC16.getSlot(key);
这样取的slot信息会不会有误呢 
2019-07-04 03:16:14,851  黄威@国美 说: 
slot不会发生变化
2019-07-04 03:16:22,705  黄威@国美 说: 
变化的是slot映射的节点
2019-07-04 03:16:42,749  幻想 说: 
好的  谢谢  [强]
2019-07-04 03:22:07,237  幻想 说: 
要是对同一个key 进行批量操作，redis cluster中能否用lua 替换 pipeline 呢 ？
2019-07-04 03:23:29,808  Jarvan 说: 
主从复制，master的redis 修改了，其他slave 的redis 不是跟着同步的吗
2019-07-04 03:23:36,680  Jarvan 说: 
每个slave 的key的数量不是一样的吗/
2019-07-04 06:47:33,325  鹏程@CMBC 分享链接:
 #每日分享 「链接」 理解Redis的内存回收机制 - 掘金
https://t.zsxq.com/y3jQzZR
2019-07-04 10:41:30,749  Rui Gu@Redisson 说: 
@幻想 涉及到需要用pipeline操作集群了，为什么不考虑一下Redisson呢？
2019-07-04 11:00:27,058  鹏程@CMBC 说: 
欢迎新来的朋友~方便做个简单自我介绍，再把群名片改下名字@公司~然后看下群公告，谢谢！ @morning
2019-07-04 11:30:37,308  morning 说: 
多谢提醒
2019-07-04 11:30:55,077  morning 说: 
已改名
2019-07-04 11:31:03,705  wenjiang@shopee 说: 
我是在shopee做运维的
2019-07-04 11:34:06,386  幻想 说: 
云上有redisson吗？
2019-07-04 11:34:22,605  麦霍键@腾讯 说: 
@wenjiang@shopee 欢迎
2019-07-04 11:34:47,303  Rui Gu@Redisson 说: 
@幻想 redisson是Java客户端，可以连接云上节点。
2019-07-04 11:37:15,621  幻想 说: 
redisson不支持的太多了，不适合
2019-07-04 11:37:35,464  Rui Gu@Redisson 说: 
还有啥不支持的？
2019-07-04 11:38:01,555  幻想 说: 
分区什么的？
2019-07-04 11:39:27,670  Rui Gu@Redisson 说: 
不支持的仅仅是客户端分区而已，你现在都用集群了也就没必要采取客户端分区了啊
2019-07-04 11:40:09,309  幻想 说: 
而且项目都是用的jedis,不太好改
2019-07-04 11:41:25,645  Rui Gu@Redisson 说: 
如果你们用的是redisTemplate的话，倒是可以直接替换
2019-07-04 11:42:26,249  Rui Gu@Redisson 说: 
如果现有的项目是直接操作jedis，修改起来就不方便了
2019-07-04 11:42:54,409  幻想 说: 
没用spring框架，只用jedis了
2019-07-04 11:43:03,782  幻想 说: 
是啊
2019-07-04 11:43:17,258  Rui Gu@Redisson 说: 
哦，那就比较麻烦了
2019-07-04 11:43:32,785  幻想 说: 
是啊😂
2019-07-04 11:44:33,291  Rui Gu@Redisson 说: 
加油加油吧
2019-07-04 11:49:27,590  幻想 说: 
谢谢[抱拳]
